bookdown::render_book("index.Rmd", "bookdown::gitbook")



options(MFFProads.debug.finding = FALSE)
options(MFFProads.debug.measuring = FALSE)
options(MFFProads.debug.metrics = TRUE)
res1 <- measure_road(roadx, ctg, mffproads_default_parameters, relocate = TRUE)



```{r}

#--- test on single road ---#
roadx <- shp %>%
  dplyr::filter(OBJECTID == 30032)

```

```{r, echo = FALSE}

m1 <- mapview::mapview(list(ctg,roadx), layer.name = c("catalog","road"),
                       color = "red", map.type = "Esri.WorldImagery")

coords <- c(-81.89212,
            47.93482)

m1@map %>% setView(coords[1], coords[2], zoom = 17)

```


```{r}
options(MFFProads.debug.finding = TRUE)
options(MFFProads.debug.measuring = FALSE)
options(MFFProads.debug.metrics = FALSE)
res1 <- measure_road(road, ctg, mffproads_default_parameters, relocate = TRUE)

```

library(magick)

## list file names and read in
imgs <- list.files("F:\\_2021_MFPProads\\roads_spl\\img\\detect", full.names = TRUE)
img_list <- lapply(imgs, image_read)

## join the images together
img_joined <- image_join(img_list)

## animate at 2 frames per second
img_animated <- image_animate(img_joined, fps = 0.25)

## view animated image
img_animated

## save to disk
image_write(image = img_animated,
            path = "F:\\_2021_MFPProads\\roads_spl\\img\\detect\\detect.gif")



